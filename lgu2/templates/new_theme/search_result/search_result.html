{% extends "new_theme/base.html" %}
{% load custom_filters %}
{% load static %}
{% load i18n %}

{% block content %}
<main class="search-results">
	<section>
		<hgroup>
			<h1 id="main-content-h" tabindex="-1">We found {{meta_data.counts.total}} documents</h1>
			<p>
				{% for key, value in meta_data.query.items %}
					<a href='?{{modified_query_links|dict_key:key}}'><span>{{key}}: {{value}}</span></a>
				{% endfor %}
			</p>
		</hgroup>
	</section>

	{% include "new_theme/search_result/bar_graph.html" %}

	<section class="search-content">
		{% include "new_theme/search_result/left_filter.html" %}

		<div class="search-header">
			<div class="sort-by">
				<label for="sort">Sort by:</label>
				<select id="sort">
					<option>Best match</option>
					<option>Earliest year first</option>
					<option>Latest year first</option>
					<option>Title A-Z</option>
					<option>Title Z-A</option>
					<option>Lowest no. first</option>
					<option>Highest no. first</option>
				</select>
			</div>

			{% include "new_theme/search_result/pagination_top_bottom.html" %}
		</div>

		<div class="search-results-list">
			<h2 id="search-results-h" tabindex="-1">Search results</h2>
			<ul class="skip-links">
				<li><a href="#search-filters-h">Skip to search filters</a></li>
			</ul>
			<ul>
				{% for result in documents_data %}
				<li>
					<a href="/{{ result.id }}/contents">{{ result.title }}</a>
					<span>{{ result.cite }}</span>
					{% with result.longType.type|camel_to_words as converted_type %}
					<span>{{ converted_type.label_type }}</span>
					{% endwith %}
				</li>
				{% endfor %}
			</ul>
			<ul class="skip-links">
				<li><a href="#search-filters-h">Skip to search filters</a></li>
			</ul>
		</div>

		<div class="search-footer">
			<div class="results-count">{{meta_data.counts.total}} results</div>
			
			{% include "new_theme/search_result/pagination_top_bottom.html" %}

			<div class="results-per-page">
				<label for="resultsPerPage">Results per page:</label>
				<input type="number" value="20" id="resultsPerPage">
				<button>Go</button>
			</div>
		</div>
	</section>
</main>
{% endblock %}